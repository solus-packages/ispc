name       : ispc
version    : 1.15.0
release    : 3
source     :
    - https://github.com/ispc/ispc/archive/refs/tags/v1.15.0.tar.gz : 2658ff00dc045ac9fcefbf6bd26dffaf723b059a942a27df91bbb61bc503a285
license    : BSD-3-Clause
component  : programming
summary    : Intel SPMD Program Compiler
description: |
    ispc is a compiler for a variant of the C programming language, with extensions for single program, multiple data programming. Under the SPMD model, the programmer writes a program that generally appears to be a regular serial program, though the execution model is actually that a number of program instances execute in parallel on the hardware.
clang      : yes
setup      : |
    %patch -p1 < $pkgfiles/0001-strip-out-legacy-libtinfo.patch
    %patch -p1 < $pkgfiles/llvm-11.1.0.patch
    %cmake_ninja \
      -DARM_ENABLED=OFF \
      -DISPC_NO_DUMPS=ON \
      -DISPC_INCLUDE_EXAMPLES=OFF
build      : |
    %ninja_build
install    : |
    %ninja_install
